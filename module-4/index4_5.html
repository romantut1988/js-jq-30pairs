<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
</head>

<body>
    <!-- Объекты Location и History. Перемещение по страницам -->
    <!-- Объекты «location» и «history» в структуре ВОМ обеспечивают управление адресами веб-страниц,
    которые отображаются на данной вкладке браузера. При помощи этих объектов можно перемещаться по различным страницам. 
    Объект «location» собирает в себе данные об веб-адресе текущей страницы, 
    открытой в данный момент в данной вкладке. 
    Мы уже знаем, что веб-сайт представляет собой некоторую программу, которая хранится на определенном компьютере
    (сервере). Для того чтобы браузер отобразил нам нужный сайт, он должен найти сервер,
    на котором этот сайт располагается и запустить ответственную за сайт программу.
    При этом программа должна понимать, что от нее требуется — передать файл,
    выдать определенные данные или вернуть HTML код страницы. НТТР протокол предусматривает, что от программы
    требуется HTML код. В таком случае, адрес сайта будет начинаться с «http://». Если при этом необходимо обеспечить 
    шифрование данных, указывают протокол «https://» (s означает «secure» — защищенный).
    Если требуется получить (загрузить) сам файл, а не HTML код, используют файловый протокол FTP,
    а адрес будет начинаться как «ftp://». Когда мы выполняем упражнения и открываем локальные html-файлы
    браузер использует протокол «file://», ссылаясь на локальную файловую систему, а не к Интернет-ресурсам.
    Есть и другие виды протоколов. Далее за протоколом следует доменное имя сайта. Как правило, именно эту часть
    адреса называют «именем сайта» или «адресом сайта».
    Примерами являются «itstep. org», «www.google.com» или «D:/Sources/js4_1.html». 
    Интересно!Далее за протоколом следует доменное имя сайта. Как правило, именно эту часть адреса называют «именем сайта»
    или «адресом сайта». Примерами являются «itstep. org», «www.google.com» или «D:/Sources/js4_1.html».-->

    <!-- Существует два основных способа передачи параметров для веб-страницы. 
    Метод «POST» скрывает данные в составе НТТР пакета, тогда как метод «GET» 
    добавляет их непосредственно в адрес ресурса. 
    Параметры отделяются от остального адреса знаком вопроса «?».
    Каждый из параметров задается по схеме «имя=значение». Если требуется передать несколько параметров,
    то их определения разделяются знаком «&». Например, в следующем адресе передается один параметр «page»:
    «http://portquiz.net:8080/?page=1». Пример передачи двух параметров «q» и «oq» иллюстрирует такой адрес 
    «https://www.google.com/search?q=itstep&oq=itstep»-->

    <!-- Для того чтобы при переходе на страницу была возможность ее «прокрутить» к определенному элементу,
    используются ссылки-якоря (anchors). Имена этих ссылок также добавляются к полному адресу страницы,
    отделяясь от него символом «#». Например, при переходе по адресу
    «https://www.w3schools.com/js/#demo» страница будет отображена, начиная от блока с именем «demo» -->

    <!-- Полный адрес сайта также называется термином URI (англ. Uniform Resource Identifier) 
    — унифицированный идентификатор ресурса. Он стандартизирован документом RFC3986, 
    который доступен в электронном виде по ссылке https://tools.ietf.org/html/rfc3986. -->

    <!-- Для примера рассмотрим адреса двух страниц, включающих в себя различные элементы: 
    1) «https://www.w3schools.com/js/#main» и 
    2) «http://portquiz.net:8080/?page=1». 
    Свойства объекта «location» с описаниями собраны в следующей таблице.
    В колонке «Значение» под номером «1» указано значение свойства,
    которое будет установлено при загрузке первой из указанных выше страниц, «2» — при загрузке второй.
       Свойство                          Описание                              Значение
    hash                           часть адреса, начиная с символа '#'    1) "#test"
                                                                          2) "" (пустая строка)
    host                           имя сайта и порт (если указан)         1) "www.w3schools.com"
                                                                          2) "portquiz.net:8080"
    hostname                       имя сайта (без порта)                  1) "www.w3schools.com"
                                                                          2) "portquiz.net"
    href                           весь адрес                             1) "https://www.w3schools.com/ js/#main"
                                                                          2) "http://portquiz.net:8080/?page=1"
    pathname                       строка пути (от имени сайта)           1) "/js/"
                                                                          2) "/"
    port                           номер порта (если указан)              1) "" (пустая строка) 
                                                                          2) "8080"
    protocol                       имя протокола                          1) "https:"
                                                                          2) "http:" 
    search                         часть адреса начиная с символа '? '    1) "" (пустая строка)
                                                                          2) "?page=1"
-->

    <!-- У объекта «location» существует несколько методов, предназначенных для управления адресом отображаемой страницы.
 Они используются для перезагрузки (обновления) страницы или для переходов на другие адреса. 
 Основные методы объекта «location» приведены в таблице:
    Метод                              Описание                               Пример 
  assign(addr)                   Перейти по адресу addr                  window.location. assign("https://itstep.org")
  reload()                       Обновить (перезагрузить) страницу       reload(true) – перезагрузить с сервера
                                                                         reload(false) или reload() – из кеша браузера 
  replace(addr)                  Сменить адрес на addr                   window.location. replace("https://itstep.org")
 -->

    <!-- Методы «assign» и «replace» производят практически одинаковые действия с тем отличием,
 что при использовании метода «assign» сохраняется история переходов между страницами,
 тогда как применение «replace» не будет фиксироваться в истории и браузер будет запоминать
 лишь последний адрес в данной вкладке. 
 Объект «location» предусматривает возможность сокращенной формы вызова метода «assign»
 при помощи оператора присваивания:    window.location = "https://itstep.org"     -->

    <!-- Объект "history" позволяет «листать» историю просмотров,добавлять или модифицировать записи в истории просмотров. 
    Основные свойства и методы объекта «history» приведены в следующей таблице: 
        Свойство / метод                  Описание                      Особенности 
      length                       Количество страниц
                                   в истории текущей вкладки
      state                        Объект состояния, установленный      Задается методами pushState 
                                   для данной страницы                  или replaceState
      back()                       Переход к предыдущей странице
                                   в истории просмотров                 Аналогичен go(-1)
      forward()                    Переход к следующей странице
                                   в истории просмотров                 Аналогичен go(1) 
      go(n)                        Переместиться на n шагов в
                                   истории просмотров                   n>0 — вперед по истории
                                                                        n<0 — назад по истории 
      pushState(state,             Добавить запись в историю            После добавления происходит переход
      title, addr)                                                      на добавленную страницу
      replaceState(state,
      title, addr)                 Заменить запись в истории            Заменяет текущее положение   
    -->

    <!-- Пример работы методов объекта «history»  -->
    <button onclick="history.back()">Back</button>
    <button onclick="history.forward()">Forward</button>
    <script>
        window.history.replaceState({
            'record': '0'
        }, "page 0", "?record=0");
        window.history.pushState({
            'record': '1'
        }, "page 1", "?record=1");
        window.history.pushState({
            'record': '2'
        }, "page 2", "?record=2");
        window.history.pushState({
            'record': '3'
        }, "page 3", "?record=3");
        window.history.pushState({
            'record': '4'
        }, "page 4", "?record=4");
        window.history.back();
    </script>

    <!-- Из этого мы делаем вывод, что при добавлении записей в журнал истории методом «pushState»,
    происходит автоматический переход на эту новую запись. Добавленные записи «page 1»,
    «page 2» и «page 3»... сопровождались сменой адреса текущей страницы на новый. Последняя команда «back()»
    вернула предпоследнюю запись из журнала, которую мы и увидели при загрузке страницы. -->
</body>

</html>