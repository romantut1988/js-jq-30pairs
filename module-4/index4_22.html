<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>JavaScript</title>
</head>

<body>
     <!-- Изменение дерева DOM -->

     <!-- Как уже отмечалось выше, при анализе HTML кода браузер выстраивает древовидную структуру программных объектов,
     называемую «деревом DOM». Мы рассмотрели, как можно анализировать эту структуру, обращаться к соседним,
     родительским или дочерним элементам, получать их коллекции. В то же время дерево DOM допускает 
     изменения — добавление или удаление его узлов. Рассмотрим эти процессы более детально. -->

     <!-- Для внесения изменений в структуру дерева DOM предусмотрены следующие функции:
     removeChild(е) — удаляет дочерний узел «е», переданный как аргумент функции;
     appendChild(е) — добавляет дочерний узел «е» в конец существующей коллекции дочерних узлов;
     insertBefore(е1, е2) — вставляет узел «е1» в коллекцию дочерних элементов перед узлом «е2». -->

     <!-- Для того чтобы добавить в дерево новый элемент, его необходимо сначала создать. 
     Создаются новые узлы при помощи метода «createElement», принадлежащего объекту «document»: 
               document.createElement(tagName) 
     В качестве аргумента метод принимает имя тега для элемента, который будет создан.
     Имя указывается без угловых скобок «<>». Например, создать новый абзац (HTML тег <p>) можно командой:
               document.createElement("p")  -->

     <!-- Пример -->
     <ul id='list'>
          <li>Item 1</li>
          <li>Item 2</li>
          <li>Item 3</li>
          <li>Item 4</li>
     </ul>
     <button onclick="addItem()">Add item</button>
     <button onclick="insertItem()">Insert item</button>
     <script>
          function addItem() {
               var newItem = document.createElement('li');
               newItem.innerText = "New item";
               list.appendChild(newItem);
          }
          function insertItem() {
               var firstItem = list.childNodes[0];
               var newItem = document.createElement('li');
               newItem.innerText = "New item";
               list.insertBefore(newItem, firstItem);
          }
          function removeItem() {
               var n = 0;
               var element2 = false;
               for (var element of list.childNodes) {
                    if (element.tagName == "LI") n++;
                    if (n == 2) {
                         element2 = element; 
                         break;
                    }
               }
               if (element2) list.removeChild(element2);
          }
     </script>
</body>

</html>